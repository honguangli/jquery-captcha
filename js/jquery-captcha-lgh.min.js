/*!
 * jquery-captcha-lgh v1.0 (https://github.com/honguangli/jquery-captcha-lgh)
 * Copyright honguangli
 * Licensed under the MIT license
 */
let Captcha;!function(t){"use strict";const o={element:null,length:4,code:[],autoRefresh:!0},e="A,B,C,E,F,G,H,J,K,L,M,N,P,Q,R,S,T,W,X,Y,Z,1,2,3,4,5,6,7,8,9,0".split(","),n=e.length;(Captcha=function(e,n){const a=this;a.options=t.extend(!0,o,n),a.element=e,a.refresh(),a.element.on("click",function(){a.refresh()})}).prototype.refresh=function(){const t=this,o=t.element.width(),a=t.element.height(),r=t.element[0],h=r.getContext("2d");r.width=o,r.height=a;const s=[];for(let o=0;o<t.options.length;o++){const t=Math.floor(Math.random()*n),a=30*Math.random()*Math.PI/180,r=e[t];s.push(r.toLowerCase());const i=10+20*o,c=20+8*Math.random();h.font="bold 23px 微软雅黑",h.translate(i,c),h.rotate(a),h.fillStyle=l(),h.fillText(r,0,0),h.rotate(-a),h.translate(-i,-c)}t.options.code=s;for(let t=0;t<=5;t++){h.strokeStyle=l(),h.beginPath(),h.moveTo(Math.random()*o,Math.random()*a),h.lineTo(Math.random()*o,Math.random()*a);const t=Math.random()*o,e=Math.random()*a;h.moveTo(t,e),h.lineTo(t+1,e+1),h.stroke()}function l(){return"rgb("+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+")"}},Captcha.prototype.getCode=function(){return this.options.code.join("")},Captcha.prototype.valid=function(t){const o=this,e=t.toString().toLowerCase()===o.getCode().toLowerCase();return!e&&o.options.autoRefresh&&o.refresh(),e}}($);