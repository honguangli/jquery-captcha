/*!
 * jquery-captcha-lgh v1.0 (https://github.com/honguangli/jquery-captcha-lgh)
 * Copyright honguangli
 * Licensed under the MIT license
 */
let Captcha;!function(){"use strict";const t={element:null,length:4,code:[],autoRefresh:!0},o="A,B,C,E,F,G,H,J,K,L,M,N,P,Q,R,S,T,W,X,Y,Z,1,2,3,4,5,6,7,8,9,0".split(","),e=o.length;function n(){return"rgb("+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+")"}(Captcha=function(o,e){const n=this;n.options=$.extend(!0,t,e),n.element=o,n.refresh(),n.element.on("click",function(){n.refresh()})}).prototype.refresh=function(){const t=this,a=t.element.width(),r=t.element.height(),h=t.element[0],s=h.getContext("2d");h.width=a,h.height=r;const i=[];for(let a=0;a<t.options.length;a++){const t=Math.floor(Math.random()*e),r=30*Math.random()*Math.PI/180,h=o[t];i.push(h.toLowerCase());const l=10+20*a,c=20+8*Math.random();s.font="bold 23px 微软雅黑",s.translate(l,c),s.rotate(r),s.fillStyle=n(),s.fillText(h,0,0),s.rotate(-r),s.translate(-l,-c)}t.options.code=i;for(let t=0;t<=5;t++){s.strokeStyle=n(),s.beginPath(),s.moveTo(Math.random()*a,Math.random()*r),s.lineTo(Math.random()*a,Math.random()*r);const t=Math.random()*a,o=Math.random()*r;s.moveTo(t,o),s.lineTo(t+1,o+1),s.stroke()}},Captcha.prototype.getCode=function(){return this.options.code.join("")},Captcha.prototype.valid=function(t){const o=this;return o.options.autoRefresh&&o.refresh(),t.toString().toLowerCase()===this.options.code.join("").toLowerCase()}}();